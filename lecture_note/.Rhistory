ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp)) +
geom_line(width = 2)
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp)) +
geom_line(size = 2)
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp)) +
geom_line(size = `)
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp)) +
geom_line(size = 1)
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp)) +
geom_line(size = 1.5)
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp, shape = supp)) +
geom_line(size = 1.5) +
geom_point(size = 3) # sizeで大きさを指定
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp, shape = supp)) +
geom_line(size = 1.5) +
geom_point(size = 5) # sizeで大きさを指定
ggplot(uspopage, aes(AgeGroup, Thousands)) +
geom_area()
ggplot(uspopage, aes(AgeGroup, Thousands, group = AgeGroup)) +
geom_area()
ggplot(uspopage, aes(AgeGroup, Thousands, gill = AgeGroup)) +
geom_area()
ggplot(uspopage, aes(AgeGroup, Thousands, fill = AgeGroup)) +
geom_area()
ggplot(uspopage, aes(AgeGroup, Thousands, group = AgeGroup, fill = AgeGroup)) +
geom_area()
uspopage
ggplot(uspopage, aes(Year, Thousands, fill = AgeGroup)) +
geom_area()
ggplot(uspopage, aes(Year, Thousands)) +
geom_area()
ggplot(uspopage, aes(Year, Thousands, fill = AgeGroup)) +
geom_area()
ggplot(uspopage, aes(Year, Thousands, fill = AgeGroup)) +
geom_area()
ggplot(uspopage, aes(Year, Thousands, fill = AgeGroup)) +
geom_area()
ggplot(uspopage, aes(Year, Thousands, fill = AgeGroup)) +
geom_area(position = "stack")
ggplot(uspopage, aes(Year, Thousands, fill = AgeGroup)) +
geom_area(position = "fill")
?uspopage
head(uspopage)
ggplot(uspopage, aes(Year, Thousands)) +
geom_area()
ggplot(uspopage, aes(Year, Thousands, fill = AgeGroup)) + # fill = AgeGroupと指定することで、自動で塗りつぶされる
geom_area()
?climate
ggplot(climate, aes(Year, Anomaly1y)) +
geom_line()
climate
ggplot(climate, aes(Year, Anomaly10y)) +
geom_line()
sunspots
economics
ggplot(economics, aes(date, pop)) +
geom_line()
?economics
ggplot(economics, aes(date, unemployed)) +
geom_line()
ggplot(economics, aes(date, unemploy)) +
geom_line()
?worldpop
ggplot(worldpop, aes(Year, population)) +
geom_line()
?worldpop
head(worldpop)
worldpop
ggplot(worldpop, aes(Year, population)) +
geom_line()
ggplot(worldpop, aes(Year, Population)) +
geom_line()
ggplot(worldpop, aes(Year, log(Population))) +
geom_line()
ggplot(worldpop, aes(Year, log(Population))) +
geom_line() +
geom_point()
ggplot(worldpop, aes(Year, log(Population))) +
geom_line() +
geom_point()
ggplot(worldpop, aes(Year, log10(Population))) +
geom_line() +
geom_point()
ggplot(worldpop, aes(Year, log(Population))) +
geom_line() +
geom_point()
ggplot(worldpop, aes(Year, log10(Population))) +
geom_line() +
geom_point()
head(cabbage_exp)
library(gcookbook) # パッケージの読み込み
head(cabbage_exp)
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity")
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge")
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, ymin = Weight - se, ymax = Weight + se)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(position = "dodge")
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = "dodge")
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se))
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = "dodge")
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = "dodge", width= 0.2) # width = 1がデフォルトのサイズ
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = "dodge", size= 0.2) # width = 1がデフォルトのサイズ
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = "dodge", width= 0.2) # width = 1がデフォルトのサイズ
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width= 0.2) # width = 1がデフォルトのサイズ
?position_dodge
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = "dodge", width= 0.2) # width = 1がデフォルトのサイズ
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width= 0.2) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width= 0.2) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_line(position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width= 0.2) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line(position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width= 0.2) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line(position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se)) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line() + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se)) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line() + # グルーピングされた棒グラフの復習
geom_point() +
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se)) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, group = Cultivar)) +
geom_line() + # グルーピングされた棒グラフの復習
geom_point() +
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se)) # position_dodge()で調整
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line(position = position_dodge(width = 0.2)) + # グルーピングされた棒グラフの復習
geom_point(position = position_dodge(width = 0.2)) +
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.2))
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line(position = position_dodge(width = 0.2)) + # グルーピングされた棒グラフの復習
geom_point(position = position_dodge(width = 0.2)) +
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.2), width = 0.2)
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line(position = position_dodge(width = 0.9)) + # グルーピングされた棒グラフの復習
geom_point(position = position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width = 0.2)
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line(position = position_dodge(width = 0.9)) + # グルーピングされた棒グラフの復習
geom_point(position = position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width = 0.2)
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar, group = Cultivar)) +
geom_line(position = position_dodge(width = 0.9)) + # グルーピングされた棒グラフの復習
geom_point(position = position_dodge(width = 0.9)) +
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width = 0.2)
cabbage_exp
?climate
head(climate)
library(tidyverse)
clim = climate %>%
filter(Source == "Berkeley")
ggplot(clim, aes(Year, Anomaly10y)) +
geom_line() +
geom_ribbon(aes(ymin = Anomaly10y - Unc10y, ymax = Anomaly10y + Unc10y))
ggplot(clim, aes(Year, Anomaly10y)) +
geom_line() +
geom_ribbon(aes(ymin = Anomaly10y - Unc10y, ymax = Anomaly10y + Unc10y), alpha = 0.2)
head(heightweight)
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point()
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point() +
geom_smooth()
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point() +
geom_smooth(method = lm)
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point() +
geom_smooth()
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point() +
geom_smooth()
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point() +
geom_smooth(method = lm)
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point() +
geom_smooth(method = lm, se = FALSE)
head(mpg)
mpg %>%
filter(manufacturer == "audi")
mpg %>%
filter(manufacturer == "audi" & model == "a4")
mpg %>%
filter(manufacturer == "audi" & model == "a4")
mpg %>%
filter(manufacturer == "audi" | model == "a4")
mpg %>%
filter(!(manufacturer == "audi" | model == "a4"))
mpg %>%
select(manufacturer, model, trans, drv)
mpg %>%
select(manufacturer:drv) # manufacturerからdrvまでの7列を抽出
mpg %>%
select(-model)
mpg %>%
select(-manufacturer)
mean(mpg$displ)
environment()
environment
?mpg
mpg %>%
mutate(engine = if_else(displ < 3, "bad", "good"))
commute = data.frame(
"name" = c("takashi","takashi","takashi","takashi","takashi","hanako","hanako","hanako","hanako","hanako"),
"day" = c(1,2,3,4,5,1,2,3,4,5),
"time" = c(10,13,12,11,14,9,15,14,10,16)
)
weather
weather = data.frame(
"day" = c(1,2,3,4,5),
"shoes" = c("tabi","tabi","bare","tabi","bare")
)
shoes = data.frame(
"day" = c(1,2,3,4,5),
"shoes" = c("tabi","tabi","bare","tabi","bare")
)
commute %>%
left_join(shoes, by = "day")
commute %>%
inner_join(shoes, by = "day")
commute %>%
inner_join(shoes, by = c("day" = "hinichi"))
shoes = data.frame(
"hinichi" = c(1,2,3,4,5),
"shoes" = c("tabi","tabi","bare","tabi","bare")
)
commute %>%
inner_join(shoes, by = c("day" = "hinichi"))
library(tidyverse, GGally)
library(tidyverse, GGally, plotrix)
library(c(tidyverse, plotrix))
library(plotrix)
1 + 1
a = 1 + 1
a
# 本資料で使うパッケージのインストール
install.packages(c("tidyverse","gcookbook","GGally","devtools"))
# 本資料で使うパッケージのインストール
install.packages(c("tidyverse","gcookbook","GGally","devtools"))
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp)) + # color = suppとlinetype = suppを追加
geom_point() # ドットは添えるだけ
ggplot(tg_mean, aes(dose, mean, color = supp, group = supp, linetype = supp)) + # color = suppとlinetype = suppを追加
geom_point() # ドットは添えるだけ
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width = 0.2) # ymin：エラーバーの下端、ymax：エラーバーの上端
library(ggplot2) # 忘れずにパッケージを読み込む
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width = 0.2) # ymin：エラーバーの下端、ymax：エラーバーの上端
library(gcookbook) # パッケージの読み込み
ggplot(cabbage_exp, aes(Date, Weight, fill = Cultivar)) +
geom_bar(stat = "identity", position = "dodge") + # グルーピングされた棒グラフの復習
geom_errorbar(aes(ymin = Weight - se, ymax = Weight + se), position = position_dodge(width = 0.9), width = 0.2) # ymin：エラーバーの下端、ymax：エラーバーの上端
ggplot(faithful, aes(eruptions, waiting)) +
geom_point() +
geom_smooth(method = lm)
?faithful
?heightweight
ggplot(heightweight, aes(ageYear, heightIn)) +
geom_point() + # まず散布図
geom_smooth(method = lm) # それから回帰直線；method = lmと指定する必要あり
ggplot(heightweight, aes(ageYear, heightIn, fill = sex)) +
geom_point() +
geom_smooth(method = lm)
?position_dodge
ggplot(diamonds, aes(cut)) + # x軸にcut；yには何も対応づける必要なし
geom_bar() + # 棒グラフ；今回はデータの値ではなく個数を描くので、stat = "identity"は不要
coord_flip()
?facet_wrap()
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_grid(drv ~ cyl)
ggplot(mpg, aes(displ, hwy)) +
geom_point() +
facet_wrap(drv ~ cyl) # drvは行方向、cylは列方向
ggplot(mtcars, aes(wt, mpg)) +
geom_point()
ggplot(mtcars, aes(wt, mpg)) +
geom_point() +
theme_bw()
ggplot(mtcars, aes(wt, mpg)) +
geom_point() +
theme_classic()
ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +
geom_point() +
scale_color_manual(values = c("red","blue","green"))
?mtcars
panel_a = ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +
geom_point()
panel_b = ggplot(mtcars, aes(wt, disp, color = factor(cyl))) +
geom_point()
panel_ab = panel_a + panel_b
library(patchwork) # パッケージの読み込み
panel_a = ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +
geom_point()
panel_b = ggplot(mtcars, aes(wt, disp, color = factor(cyl))) +
geom_point()
panel_ab = panel_a + panel_b
panel_ab
# まずパネルaを作る
panel_a = ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +
geom_point()
# 次にパネルbを作る
panel_b = ggplot(mtcars, aes(wt, disp, color = factor(cyl))) +
geom_point()
# 2つを足し算する
panel_ab = panel_a + panel_b
# 1枚のグラフ
panel_ab + plot_annotation(tag_levels = "a")
ggsave("panel_ab.pdf", plot = panel_ab, width = 14, height = 14, units = "cm")
# まずパネルa（panel_a）を作る
panel_a = ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +
geom_point()
# 次にパネルb（panel_b）を作る
panel_b = ggplot(mtcars, aes(wt, disp, color = factor(cyl))) +
geom_point()
# 2つを足し算して1枚のグラフ（panel_ab）にする
panel_ab = panel_a + panel_b
# 1枚のグラフ
panel_ab + plot_layout(ncol = 1) + plot_annotation(tag_levels = "a") # 最後にタグを付ける
ggsave("panel_ab.pdf", plot = panel_ab, width = 14, height = 14, units = "cm")
ggsave("panel_ab.pdf", plot = panel_ab, width = 14, height = 14, units = "cm")
# まずパネルa（panel_a）を作る
panel_a = ggplot(mtcars, aes(wt, mpg, color = factor(cyl))) +
geom_point()
# 次にパネルb（panel_b）を作る
panel_b = ggplot(mtcars, aes(wt, disp, color = factor(cyl))) +
geom_point()
# 2つを足し算して1枚のグラフ（panel_ab）にし、1列に並べる
panel_ab = panel_a + panel_b + plot_layout(ncol = 1) + plot_annotation(tag_levels = "a") # 最後にタグを付ける
panel_ab
ggsave("panel_ab.pdf", plot = panel_ab, width = 14, height = 14, units = "cm")
ggplot(pg_mean, aes(group, weight)) + # x軸にgroup、y軸にweight
geom_bar(stat = "identity") # 棒グラフ；stat = "identity"が必要
ggplot(PlantGrowth, aes(group, weight, fill = group)) + # x軸にgroup、y軸にweight；fillで色の塗りつぶし
geom_boxplot() # 箱ひげ図を描くためのコード
ggplot(PlantGrowth, aes(group, weight, fill = group)) + # x軸にgroup、y軸にweight；fillで色の塗りつぶし
geom_boxplot() + # 箱ひげ図
guide(fill = FALSE) # 凡例（ここではfill）を消すためのコード
ggplot(PlantGrowth, aes(group, weight, fill = group)) + # x軸にgroup、y軸にweight；fillで色の塗りつぶし
geom_boxplot() + # 箱ひげ図
guides(fill = FALSE) # 凡例（ここではfill）を消すためのコード
ggplot(PlantGrowth, aes(group, weight, fill = group)) + # x軸にgroup、y軸にweight；fillで色の塗りつぶし
geom_boxplot() # 箱ひげ図を描くためのコード
?heightweight
library(gcookbook)
ggplot(heightweight, aes(heightIn, weightLb, fill = sex)) +
geom_point() +
facet_wrap(~sex)
library(gcookbook)
ggplot(heightweight, aes(heightIn, weightLb, color = sex)) +
geom_point() +
facet_wrap(~sex)
library(gcookbook)
ggplot(heightweight, aes(heightIn, weightLb, color = sex)) +
geom_point() +
facet_wrap(~sex) +
guides(color = FALSE)
head(mtcars)
head(mtcars)
head(faithful)
head(faithful) # 先頭6行
?mpg
mpg %>%
filter(manufacturer == "audi")
mpg %>%
filter(manufacturer == "audi")
library(tidyverse)
mpg %>%
filter(manufacturer == "audi")
mpg %>%
filter(manufacturer == "audi" & model == "a4")
mpg %>%
filter(manufacturer == "audi" | model == "a4")
mpg %>%
mutate(one = 1)
mpg %>%
mutate(engine = if_else(displ < 3, "bad", "good"))
mpg %>%
rename(nen = year)
mpg %>%
summarise(mean_displ = mean(displ),
sd_displ = sd(displ),
min_displ = min(displ),
max_displ = max(displ))
mpg %>%
group_by(year) %>%
summarise(mean_displ = mean(displ),
sd_displ = sd(displ),
min_displ = min(displ),
max_displ = max(displ))
commute = data.frame(
"name" = c("takashi","takashi","takashi","takashi","takashi","hanako","hanako","hanako","hanako","hanako"),
"day" = c(1,2,3,4,5,1,2,3,4,5),
"time" = c(10,13,12,11,14,9,15,14,10,16)
)
commute
shoes = data.frame(
"day" = c(1,2,3,4,5),
"shoes" = c("tabi","tabi","bare","tabi","bare")
)
shoes = data.frame(
"day" = c(1,2,3,4,5),
"shoes" = c("tabi","tabi","bare","tabi","bare")
)
shoes
commute %>%
inner_join(shoes, by = "day")
shoes = data.frame(
"hinichi" = c(1,2,3,4,5),
"shoes" = c("tabi","tabi","bare","tabi","bare")
)
shoes
stocks
?gather
stocks = data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocks
stocks %>%
gather("stock", "price")
stocks %>%
gather(stock, price)
stocks %>%
gather(stock, price, X, Y, Z)
stocks %>%
gather(key = stock, value = price, X, Y, Z)
stocks_long %>%
spread(stock, price)
stocks_long = stocks %>%
gather(key = stock, value = price, X, Y, Z) # X:ZでもOK
stocks_long
stocks_long %>%
spread(stock, price)
library(plotrix)
mpg %>%
group_by(year) %>%
summarise(mean = mean(displ),
se = sd(displ) / n()) %>% # n()はデータの個数を数える関数
ggplot(aes(year, mean)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin = mean - se, ymax = mean + se))
mpg %>%
group_by(year) %>%
summarise(mean = mean(displ),
se = sd(displ) / sqrt(n())) %>% # n()はデータの個数を数える関数
ggplot(aes(year, mean)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin = mean - se, ymax = mean + se))
mpg %>%
group_by(year) %>%
summarise(mean = mean(displ),
se = sd(displ) / sqrt(n())) %>% # n()はデータの個数を数える関数
ggplot(aes(year, mean)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin = mean - se, ymax = mean + se), width = 0.2)
mpg %>%
group_by(year) %>%
summarise(mean = mean(displ),
se = sd(displ) / sqrt(n())) %>% # n()はデータの個数を数える関数
ggplot(aes(factor(year), mean)) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin = mean - se, ymax = mean + se), width = 0.2)
mpg %>%
group_by(year) %>%
summarise(mean = mean(displ),
se = sd(displ) / sqrt(n())) %>% # n()はデータの個数を数える関数
ggplot(aes(factor(year), mean, fill = factor(year))) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin = mean - se, ymax = mean + se), width = 0.2)
?spread
mpg %>%
group_by(year) %>% # yearごとに
summarise(mean = mean(displ),
se = std.error(displ)) %>% # 平均値と標準誤差を計算；n()はデータの個数を数える関数
ggplot(aes(factor(year), mean, fill = factor(year))) +
geom_bar(stat = "identity") +
geom_errorbar(aes(ymin = mean - se, ymax = mean + se), width = 0.2)
read_excel
read_excel()
library(readxl)
read_excel()
